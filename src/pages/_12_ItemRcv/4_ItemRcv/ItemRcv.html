<ion-header no-border>
    <ion-navbar>
        <ion-title (click)="help()">進貨驗收</ion-title>
    </ion-navbar>
</ion-header>
<ion-content (swipe)="swipeEvent($event)">
    <ion-card>
        <ion-list class="mylist">
            <ion-grid>
                <ion-row align-items-center>
                    <ion-col col-2><ion-label>{{result.UNIT}}</ion-label></ion-col>
                    <ion-col col-3>
                        <ion-segment class="mysegment"
                                     [(ngModel)]="QTY_color">
                            <ion-segment-button value="pos">
                                ＋
                            </ion-segment-button>
                            <ion-segment-button value="neg">
                                －
                            </ion-segment-button>
                        </ion-segment>
                    </ion-col>
                    <ion-col col-5>
                        <ion-input #scan_Entry autofocus
                                   type="tel"
                                   [(ngModel)]="answer.QTY"
                                   (ionFocus)="selectAll($event)"
                                   [ngClass]="{'input_pos_temperature':QTY_color=='pos', 'input_neg_temperature':QTY_color=='neg'}"
                                   onkeypress='return (event.charCode >= 48 && event.charCode <= 57) || event.charCode == 46'></ion-input>
                    </ion-col>
                    <ion-col col-2>
                        <!--小鍵盤-->
                        <button ion-button outline icon-only (click)="showCalculator('QTY')">
                            <ion-icon name="calculator"></ion-icon>
                        </button>
                    </ion-col>
                </ion-row>
            </ion-grid>

            <ion-grid [hidden]="!result.PRICE_TYPE">
                <ion-row align-items-center>
                    <ion-col col-2><ion-label>秤重<br />(kg)</ion-label></ion-col>
                    <ion-col col-3>
                        <ion-segment class="mysegment"
                                     [(ngModel)]="WEIGHT_color">
                            <ion-segment-button value="pos">
                                ＋
                            </ion-segment-button>
                            <ion-segment-button value="neg">
                                －
                            </ion-segment-button>
                        </ion-segment>
                    </ion-col>
                    <ion-col col-5>
                        <ion-input #scan_Entry autofocus
                                   type="tel"
                                   [(ngModel)]="answer.WEIGHT"
                                   (ionFocus)="selectAll($event)"
                                   [ngClass]="{'input_pos_temperature':WEIGHT_color=='pos', 'input_neg_temperature':WEIGHT_color=='neg'}"
                                   onkeypress='return (event.charCode >= 48 && event.charCode <= 57) || event.charCode == 46'></ion-input>
                    </ion-col>
                    <ion-col col-2>
                        <!--小鍵盤-->
                        <button ion-button outline icon-only (click)="showCalculator('WEIGHT')">
                            <ion-icon name="calculator"></ion-icon>
                        </button>
                    </ion-col>
                </ion-row>
            </ion-grid>
            <ion-grid>
                <ion-row align-items-center>
                    <ion-col col-2>
                        <label>品質</label>
                    </ion-col>
                    <ion-col col-8>
                        <button ion-button block solid
                                color="light"
                                [ngStyle]="{'color': data.viewColor}"
                                (click)="QueryItemState()">
                            {{answer.QualityName}}
                        </button>
                    </ion-col>
                    <ion-col col-2>
                        <button ion-button outline icon-only (click)="showCamera()">
                            <ion-icon name="camera"></ion-icon>
                        </button>
                    </ion-col>
                </ion-row>
            </ion-grid>
            <ion-item>
                <ion-label>{{result.ROW1}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>{{result.ROW2}}</ion-label>
            </ion-item>
            <ion-item>
                <ion-row>
                    <label>{{result.ROW3}}</label>
                    <progress max="{{answer.QTY_ShowTotal}}"
                              value="{{result.QTY}}"
                              style="width:100px;margin-left:0px;">{{(answer.QTY_ShowTotal - answer.QTY_left) / answer.QTY_ShowTotal*100}}</progress>
                </ion-row>
            </ion-item>
            <ion-item>
                <ion-label>{{result.ROW4}}</ion-label>
            </ion-item>
        </ion-list>
    </ion-card>
</ion-content>
<ion-footer no-border>
    <ion-toolbar>
        <ion-item>
            <ion-label>{{result.ROW5}}</ion-label>
            <ion-label>{{result.ROW6}}</ion-label>
            <ion-label>{{result.ROW7}}</ion-label>
        </ion-item>
    </ion-toolbar>
    <ion-toolbar>
        <button ion-button icon-start solid full (click)="Receive()" color="primary">
            <ion-icon name="checkmark"></ion-icon>
            驗收
        </button>
    </ion-toolbar>
</ion-footer>