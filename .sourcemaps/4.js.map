{"version":3,"sources":["../../src/pages/_22_PrintPickingLabel/PrintPickingLabel.module.ts","../../src/pages/_22_PrintPickingLabel/PrintPickingLabel.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { _22_PrintPickingLabel } from './PrintPickingLabel';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicPageModule.forChild(_22_PrintPickingLabel)\r\n  ],\r\n  declarations: [_22_PrintPickingLabel],\r\n  entryComponents: [_22_PrintPickingLabel]\r\n})\r\nexport class AppModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/_22_PrintPickingLabel/PrintPickingLabel.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { NavController, Platform, NavParams, AlertController, IonicPage } from 'ionic-angular';\r\n\r\nimport { http_services } from '../_ZZ_CommonLib/http_services';\r\n\r\n@IonicPage({\r\n    name: '_22_PrintPickingLabel',\r\n    segment: '_22_PrintPickingLabel'\r\n})\r\n@Component({\r\n    templateUrl: 'PrintPickingLabel.html'\r\n})\r\n\r\nexport class _22_PrintPickingLabel {\r\n    constructor(public navCtrl: NavController\r\n        , plt: Platform\r\n        , public navParams: NavParams\r\n        , public _http_services: http_services\r\n        , private alertCtrl: AlertController) {\r\n    }\r\n\r\n    //#region Init\r\n    data = {\r\n        choice: 'DAS'\r\n        , ScanBarcode: ''\r\n        , JOBID: ''\r\n    };\r\n\r\n    //掃描的紀錄\r\n    //barcode   條碼\r\n    //Check     驗證結果 OK,NO,CLEAR\r\n    //scanTime  掃描時間\r\n    DCS_Log = []\r\n\r\n    //合法的紀錄\r\n    //ChuteId   滑道\r\n    //Duplex    疊箱\r\n    //StoreId   店號\r\n    //ItemCode  呼出碼\r\n    //Amount    數量\r\n    DCSresult = []\r\n\r\n    @ViewChild('scan_Entry') scan_Entry;\r\n    //#endregion\r\n\r\n    ngOnInit() {\r\n        this._http_services.POST('', 'sqlcmd'\r\n            , 'select OrderNo=MAX(OrderNo) from DDI.dbo.DDI_WORKSPACE_STATUS with(nolock)'\r\n            , [{}])\r\n            .subscribe((response) => {\r\n                this.data.JOBID = response[0].OrderNo;\r\n            });\r\n    };\r\n\r\n    search() {\r\n        //#region 紀錄資料\r\n        if (this.data.choice == 'DAS') {\r\n            this._http_services.POST('', 'sp'\r\n                , '[md.spDCS_LABEL_DAS]'\r\n                , [\r\n                    { Name: '@JOBID', Value: this.data.JOBID }\r\n                    , { Name: '@PRINTER', Value: \"172.20.22.4\" }\r\n                    , { Name: '@BC', Value: this.data.ScanBarcode }\r\n                ])\r\n                .subscribe((response) => {\r\n                    console.log(response);\r\n                });\r\n        }\r\n        else {\r\n            this._http_services.POST('', 'sp'\r\n                , '[md.spDCS_LABEL_SF]'\r\n                , [\r\n                    { Name: '@cGUID', Value: this._uuid() }\r\n                    , { Name: '@cJOB_ID', Value: this.data.JOBID }\r\n                    , { Name: '@iSEQ', Value: \"1\" }\r\n                    , { Name: '@cTYPE', Value: \"BOX\" }\r\n                    , { Name: '@cPRINT_SITE', Value: \"172.20.22.4\" }\r\n                    , { Name: '@cBARCODE', Value: this.data.ScanBarcode }\r\n                ])\r\n                .subscribe((response) => {\r\n                    console.log(response);\r\n                });\r\n        }\r\n        //#endregion\r\n\r\n        //紀錄掃描資料\r\n        this.DCS_Log.push(this.data.ScanBarcode);\r\n\r\n        //準備下一輪掃描\r\n        this.reset();\r\n\r\n        this.scan_Entry.setFocus();\r\n    };\r\n\r\n    _uuid() {\r\n    var d = Date.now();\r\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\r\n        d += performance.now(); //use high-precision timer if available\r\n    }\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        var r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n}\r\n\r\n    reset() {\r\n        this.data.ScanBarcode = '';\r\n        this.scan_Entry.setFocus();\r\n    };\r\n    Totalreset() {\r\n        this.data.choice = 'DAS';\r\n        this.data.ScanBarcode = '';\r\n\r\n        this.DCSresult = [];\r\n        this.scan_Entry.setFocus();\r\n    };\r\n\r\n    help() {\r\n        let alert = this.alertCtrl.create({\r\n            title: '使用說明',\r\n            subTitle: '\"000000\"：全部列印',\r\n            buttons: ['關閉']\r\n        });\r\n\r\n        alert.present();\r\n    };\r\n\r\n    //喪失focus\r\n    myfocus() {\r\n        this.scan_Entry.setFocus();\r\n    };\r\n\r\n    //全選\r\n    selectAll($event) {\r\n        $event._native.nativeElement.select();\r\n    }\r\n\r\n    //手勢\r\n    swipeEvent(event) {\r\n        switch (event.direction) {\r\n            case 1: //NONE\r\n                break;\r\n            case 2: //LEFT\r\n\r\n                break;\r\n            case 4: //RIGHT\r\n                this.navCtrl.pop();\r\n                break;\r\n            case 8: //UP\r\n                break;\r\n            case 16://DOWN\r\n                break;\r\n        };\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/_22_PrintPickingLabel/PrintPickingLabel.ts"],"sourceRoot":""}