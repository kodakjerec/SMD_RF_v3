{"version":3,"sources":["../../src/pages/_13_WAS/42_ReceiveDelete/ReceiveDelete.module.ts","../../src/pages/_13_WAS/42_ReceiveDelete/ReceiveDelete.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { _1342_WAS_ReceiveDelete } from './ReceiveDelete';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        _1342_WAS_ReceiveDelete\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(_1342_WAS_ReceiveDelete)\r\n    ],\r\n    entryComponents: [\r\n        _1342_WAS_ReceiveDelete\r\n    ]\r\n})\r\nexport class ReceiveDeleteModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/_13_WAS/42_ReceiveDelete/ReceiveDelete.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { NavParams, NavController, ToastController, AlertController, ModalController, IonicPage } from 'ionic-angular';\r\n\r\n//Cordova\r\nimport { Vibration } from '@ionic-native/vibration';\r\n\r\n//My Pages\r\nimport * as myGlobals from '../../../app/Settings';\r\nimport { http_services } from '../../_ZZ_CommonLib/http_services';\r\nimport { LittleKeyPad } from '../../_ZZ_CommonLib/LittleKeyPad/LittleKeyPad';\r\n\r\n@IonicPage({\r\n    name: '_1342_WAS_ReceiveDelete'\r\n})\r\n@Component({\r\n    templateUrl: 'ReceiveDelete.html'\r\n})\r\nexport class _1342_WAS_ReceiveDelete {\r\n    constructor(public navCtrl: NavController\r\n        , public params: NavParams\r\n        , public _http_services: http_services\r\n        , private alertCtrl: AlertController\r\n        , private toastCtrl: ToastController\r\n        , private modalCtrl: ModalController\r\n        , private vibration: Vibration) {\r\n\r\n        this.data.RefValue = localStorage.getItem('WAS_OrderNo');\r\n    }\r\n    @ViewChild('scan_Entry') scan_Entry;\r\n\r\n    ionViewWillEnter() {\r\n        this.search();\r\n    }\r\n\r\n    data = {\r\n        RefValue: ''\r\n        , ITEM_NO:''\r\n    };\r\n\r\n    TotalList = [];\r\n    DefaultTestServer = '172_31_31_250';\r\n\r\n    search() {\r\n        let sql_StepValue = '31';\r\n        let sql_parameter = this.data.RefValue;\r\n        if (this.data.ITEM_NO.length > 0)\r\n            sql_parameter += ',' + this.data.ITEM_NO;\r\n        else\r\n            sql_parameter += ',%%';\r\n\r\n        this._http_services.POST(this.DefaultTestServer, 'sp'\r\n            , '[WAS].dbo.spactWAS_Line'\r\n            , [{ Name: '@Step', Value: sql_StepValue }\r\n                , { Name: '@Parameters', Value: sql_parameter }])\r\n            .then((response) => {\r\n                this.data.ITEM_NO = '';\r\n                this.TotalList = response;\r\n            })\r\n            ;\r\n    }\r\n\r\n    //改量\r\n    readyChangeAMOUNT(item) {\r\n        this.vibration.vibrate(100);\r\n        let alert = this.alertCtrl.create({\r\n            title: '刪除驗收紀錄',\r\n            message: '呼出碼：' + item.ITEM_NO + '<br/>'\r\n            + '營業所：' + item.SITE_ID + '<br/>'\r\n            + '驗收量：' + item.QTY + '<br/>'\r\n            + '驗收重量：' + item.WEIGHT + '<br/>',\r\n            buttons: [\r\n                {\r\n                    text: '取消',\r\n                    role: 'cancel'\r\n                },\r\n                {\r\n                    text: '確定',\r\n                    handler: data => {\r\n                        let sql_parameter = this.data.RefValue\r\n                            + ',' + item.ITEM_NO\r\n                            + ',' + item.SITE_ID\r\n                            + ',' + item.id\r\n                            + ',' + localStorage.getItem('USER_ID');\r\n                        this._http_services.POST(this.DefaultTestServer, 'sp'\r\n                            , '[WAS].dbo.spactWAS_Line'\r\n                            , [{ Name: '@Step', Value: '32' }\r\n                                , { Name: '@Parameters', Value: sql_parameter }])\r\n                            .then((response) => {\r\n                                if (response != undefined) {\r\n                                    switch (response[0].RT_CODE) {\r\n                                        case 0:\r\n                                            this.toastCtrl.create({\r\n                                                message: response[0].RT_MSG,\r\n                                                duration: myGlobals.Set_timeout,\r\n                                                position: 'middle'\r\n                                            }).present();\r\n                                            break;\r\n                                        default:\r\n                                            this.alertCtrl.create({\r\n                                                title: '結果 ' + response[0].RT_CODE,\r\n                                                message: response[0].RT_MSG,\r\n                                                buttons: ['關閉']\r\n                                            }).present();\r\n                                    }\r\n                                }\r\n                            })\r\n                            ;\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n    //全選\r\n    selectAll($event) {\r\n        $event._native.nativeElement.select();\r\n    }\r\n\r\n    myKeylogger(event) {\r\n        this.data.ITEM_NO = myGlobals.keyCodeToValue(event.keyCode, this.data.ITEM_NO);\r\n        if (this.data.ITEM_NO.indexOf('ENTER') >= 0) {\r\n            this.data.ITEM_NO = this.data.ITEM_NO.replace('ENTER', '');\r\n            this.search();\r\n        }\r\n    }\r\n    openKeyPad() {\r\n        let obj = this.modalCtrl.create(LittleKeyPad, { Name: '呼出碼', Value: this.data.ITEM_NO });\r\n        obj.onDidDismiss(data => {\r\n            this.data.ITEM_NO = myGlobals.ProgParameters.get('ListTable_answer');\r\n            this.search();\r\n        });\r\n        obj.present();\r\n    }\r\n\r\n    //手勢\r\n    swipeEvent(event) {\r\n        switch (event.direction) {\r\n            case 1: //NONE\r\n                break;\r\n            case 2: //LEFT\r\n\r\n                break;\r\n            case 4: //RIGHT\r\n                this.navCtrl.pop();\r\n                break;\r\n            case 8: //UP\r\n                break;\r\n            case 16://DOWN\r\n                break;\r\n        };\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/_13_WAS/42_ReceiveDelete/ReceiveDelete.ts"],"sourceRoot":""}