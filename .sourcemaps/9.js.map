{"version":3,"sources":["../../src/pages/_13_WAS/3_Store/Store.module.ts","../../src/pages/_13_WAS/3_Store/Store.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { _133_WAS_Store } from './Store';\r\n\r\n@NgModule({\r\n    imports: [\r\n        IonicPageModule.forChild(_133_WAS_Store)\r\n    ],\r\n    declarations: [_133_WAS_Store],\r\n    entryComponents: [_133_WAS_Store]\r\n})\r\nexport class _133_WAS_StoreModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/_13_WAS/3_Store/Store.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { NavController, ToastController, AlertController, ModalController, IonicPage } from 'ionic-angular';\r\n\r\n//Cordova\r\nimport { Vibration } from '@ionic-native/vibration';\r\n\r\n//My Pages\r\nimport * as myGlobals from '../../../app/Settings';\r\nimport { http_services } from '../../_ZZ_CommonLib/http_services';\r\nimport { LittleKeyPad } from '../../_ZZ_CommonLib/LittleKeyPad/LittleKeyPad';\r\nimport { ListTablePage } from '../../_ZZ_CommonLib/ListTable/ListTable';\r\n\r\n@IonicPage({\r\n    name: '_133_WAS_Store',\r\n    segment: '_133_WAS_Store'\r\n})\r\n@Component({\r\n    templateUrl: 'Store.html'\r\n})\r\nexport class _133_WAS_Store {\r\n    constructor(public navCtrl: NavController\r\n        , public _http_services: http_services\r\n        , private toastCtrl: ToastController\r\n        , private alertCtrl: AlertController\r\n        , private modalCtrl: ModalController\r\n        , private vibration: Vibration) {\r\n        //localStorage.setItem('USER_ID', '123456');\r\n        //localStorage.setItem('BLOCK_NAME', 'A1DP1');\r\n        //localStorage.setItem('BLOCK_NAME', '1樓撿貨區');\r\n        //localStorage.setItem('WAS_OrderNo', '2018020601');\r\n        //localStorage.setItem('WAS_Item', '{ \"ITEM_NO\": \"310005\", \"ITEM_NAME\": \"澳洲穀飼牛梅花火鍋片\" }');\r\n        //localStorage.setItem('WAS_Store', '{\"SITE_ID\":\"222100\",\"SEQ\":8,\"AMOUNT\":3,\"TQty\":1,\"TWeight\":1,\"LeftQty\":2,\"SITE_NAME\":\"宜蘭泰山\",\"PRICE\":500,\"PRICE_TYPE\":\"0\"}');\r\n\r\n        this.data.RefValue = localStorage.getItem('WAS_OrderNo')\r\n            + ',' + JSON.parse(localStorage.getItem('WAS_Item')).ITEM_NO;\r\n    }\r\n    @ViewChild('scan_Entry') scan_Entry;\r\n\r\n    ionViewWillEnter() {\r\n        this.BringDisplayList(this.data.theLastSEQ);\r\n        this.myFocus();\r\n    }\r\n\r\n    data = {\r\n        RefValue: ''\r\n        , BLOCK_NAME: localStorage.getItem('BLOCK_NAME')\r\n        , WAS_Store: ''\r\n        , IsInputEnable: true\r\n        , IsHideWhenKeyboardOpen: false\r\n        , InfiniteScrollEnable: true    //啟用無限卷軸\r\n        , theLastSEQ: 0             //上次驗收最後進入的營業所SEQ\r\n        , NoMoreOrders: false       //重整畫面使用, 已經沒有剩餘訂單的判斷\r\n    };\r\n\r\n    DisplayList = {\r\n        SITE_ID: ''\r\n        , SEQ: 0\r\n        , AMOUNT: 0\r\n        , UPD_AMOUNT: 0\r\n        , TQty: 0\r\n        , LeftQty: 0\r\n        , SITE_NAME: ''\r\n    };\r\n    TotalList = [];\r\n    DefaultTestServer = '172_31_31_250';\r\n\r\n    BringDisplayList(startSEQ) {\r\n        let sql_StepValue = '11';\r\n        let sql_parameter = this.data.RefValue + ',' + startSEQ.toString();\r\n\r\n        return this._http_services.POST(this.DefaultTestServer, 'sp'\r\n            , '[WAS].dbo.spactWAS_Line'\r\n            , [{ Name: '@Step', Value: sql_StepValue }\r\n                , { Name: '@Parameters', Value: sql_parameter }])\r\n            .then((response) => {\r\n                if (response != undefined) {\r\n                    //先填入清單\r\n                    this.BringDisplayList_Add(response);\r\n                    if (this.TotalList.length > 0)\r\n                        this.DisplayList = this.TotalList[0];\r\n\r\n                    //檢查特殊情況\r\n                    if (response.length == 0) {\r\n\r\n                        this.data.InfiniteScrollEnable = false;\r\n\r\n                        //連續兩次查料都沒有待處理清單, 回到上一頁\r\n                        if (this.data.NoMoreOrders) {\r\n                            this.reset();\r\n                            this.navCtrl.pop();\r\n                            return;\r\n                        }\r\n\r\n                        //從驗收回來後, 檢查是否還有剩餘資料\r\n                        if (this.data.theLastSEQ > 0) {\r\n                            this.data.theLastSEQ = 0;\r\n                            this.data.NoMoreOrders = true;\r\n                            this.BringDisplayList(0);\r\n                            return;\r\n                        }\r\n                    }\r\n                    else {\r\n                        this.data.NoMoreOrders = false;\r\n                        this.data.InfiniteScrollEnable = true;\r\n\r\n                        //小於sp設定的50筆\r\n                        //再次重頭搜尋未完成項目\r\n                        if (response.length < 50) {\r\n                            if (this.data.theLastSEQ > 0) {\r\n                                console.log('小於sp設定的50筆');\r\n                                this.data.theLastSEQ = 0;\r\n                                this.BringDisplayList(0);\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return response;\r\n            });\r\n    }\r\n    //查詢結果匯入TotalList\r\n    BringDisplayList_Add(response) {\r\n        response.forEach((value, index, array) => {\r\n            let checkPK = this.TotalList.filter((value2, index2, array2) => value2.SITE_ID == value.SITE_ID);\r\n            if (checkPK.length == 0)\r\n                this.TotalList.push(value);\r\n        });\r\n    }\r\n    //重置btn\r\n    reset() {\r\n        this.data.IsInputEnable = true;\r\n        this.data.InfiniteScrollEnable = true;    //啟用無限卷軸\r\n        this.data.theLastSEQ = 0;       //上次驗收最後進入的營業所SEQ\r\n        this.data.NoMoreOrders = false;     //重整畫面使用, 已經沒有剩餘訂單的判斷\r\n        this.data.WAS_Store = '';\r\n        this.TotalList = [];\r\n\r\n        this.myFocus();\r\n    };\r\n\r\n    //查詢\r\n    search() {\r\n        this.vibration.vibrate(100);\r\n        this.data.IsInputEnable = false;\r\n\r\n        ////test\r\n        //this.data.WAS_Store = this.DisplayList.SITE_ID;\r\n\r\n        if (this.data.WAS_Store.length <= 0) {\r\n            this.toastCtrl.create({\r\n                message: '請輸入數值',\r\n                duration: myGlobals.Set_timeout,\r\n                position: 'middle'\r\n            }).present();\r\n            this.myFocus();\r\n            this.data.WAS_Store = '';\r\n            this.data.IsInputEnable = true;\r\n            return;\r\n        }\r\n\r\n        let sql_parameter = this.data.RefValue + ',' + this.data.WAS_Store;\r\n\r\n        this._http_services.POST(this.DefaultTestServer, 'sp'\r\n            , '[WAS].dbo.spactWAS_Line'\r\n            , [{ Name: '@Step', Value: '2' }\r\n                , { Name: '@Parameters', Value: sql_parameter }])\r\n            .then((response) => {\r\n                switch (response[0].RT_CODE) {\r\n                    case 0:\r\n                        let result = JSON.stringify({\r\n                            SITE_ID: response[0].SITE_ID\r\n                            , SEQ: response[0].SEQ\r\n                            , AMOUNT: response[0].AMOUNT\r\n                            , TQty: response[0].TQty\r\n                            , TWeight: response[0].TWeight\r\n                            , LeftQty: response[0].LeftQty\r\n                            , SITE_NAME: response[0].SITE_NAME\r\n                            , PRICE: response[0].PRICE\r\n                            , PRICE_TYPE: response[0].PRICE_TYPE\r\n                        });\r\n                        localStorage.setItem('WAS_Store', result);\r\n\r\n                        this.toastCtrl.create({\r\n                            message: '驗證成功 ' + response[0].RT_MSG,\r\n                            duration: myGlobals.Set_timeout,\r\n                            position: 'middle'\r\n                        }).present();\r\n\r\n                        this.reset();\r\n\r\n                        this.data.theLastSEQ = response[0].SEQ;\r\n                        this.navCtrl.push('_134_WAS_Receive');\r\n                        break;\r\n                    default:\r\n                        this.toastCtrl.create({\r\n                            message: response[0].RT_MSG,\r\n                            duration: myGlobals.Set_timeout,\r\n                            position: 'middle'\r\n                        }).present();\r\n                }\r\n            })\r\n            .then(response => {\r\n                this.data.WAS_Store = '';\r\n                this.data.IsInputEnable = true;\r\n            })\r\n            ;\r\n    }\r\n\r\n    //改量\r\n    btn_ChangeTqty() {\r\n        this.reset();\r\n        this.navCtrl.push('_1331_WAS_StoreChgAmount');\r\n    }\r\n\r\n    //補標\r\n    btn_MorelastPrint() {\r\n        let sql_parameter = this.data.RefValue;\r\n\r\n        this._http_services.POST(this.DefaultTestServer, 'sp'\r\n            , '[WAS].dbo.spactWAS_Line'\r\n            , [{ Name: '@Step', Value: '40' }\r\n                , { Name: '@Parameters', Value: sql_parameter }])\r\n            .then((response) => {\r\n                if (response.length > 0) {\r\n                    //開始補標\r\n                    myGlobals.ProgParameters.set('ListTable_Source', response);\r\n\r\n                    let obj = this.modalCtrl.create(ListTablePage);\r\n                    obj.onDidDismiss(data => {\r\n                        let ID = myGlobals.ProgParameters.get('ListTable_answer').Value;\r\n                        if (ID != '') {\r\n                            this._http_services.POST(this.DefaultTestServer, 'sp'\r\n                                , '[WAS].dbo.spactWAS_Line'\r\n                                , [{ Name: '@Step', Value: '41' }\r\n                                    , { Name: '@Parameters', Value: ID }])\r\n                                .then((response) => {\r\n                                    //因為是特殊處理案例, 要跳出視窗嚴加提醒使用者\r\n                                    this.alertCtrl.create({\r\n                                        title: '結果 ' + response[0].RT_CODE,\r\n                                        message: response[0].RT_MSG,\r\n                                        buttons: ['關閉']\r\n                                    }).present();\r\n                                })\r\n                        }\r\n                        return;\r\n                    });\r\n                    obj.present();\r\n                }\r\n            });\r\n    }\r\n\r\n    //無限卷軸\r\n    doInfinite(infiniteScroll) {\r\n        let obj = this.TotalList[this.TotalList.length - 1];\r\n        this.BringDisplayList(obj.SEQ + 1)\r\n            .then(response => {\r\n                infiniteScroll.complete();\r\n            });\r\n    }\r\n\r\n    //全選\r\n    selectAll($event) {\r\n        $event._native.nativeElement.select();\r\n    }\r\n    //Focus\r\n    myFocus() {\r\n        setTimeout(() => {\r\n            this.scan_Entry._elementRef.nativeElement.focus();\r\n        }, 300);\r\n    }\r\n    myKeylogger(event) {\r\n        console.log(event);\r\n        this.data.WAS_Store = myGlobals.keyCodeToValue(event.keyCode, this.data.WAS_Store);\r\n        if (this.data.WAS_Store.indexOf('ENTER') >= 0) {\r\n            this.data.WAS_Store = this.data.WAS_Store.replace('ENTER', '');\r\n            this.search();\r\n        }\r\n    }\r\n    openKeyPad() {\r\n        let obj = this.modalCtrl.create(LittleKeyPad, { Name: '營業所', Value: this.data.WAS_Store });\r\n        obj.onDidDismiss(data => {\r\n            this.data.WAS_Store = myGlobals.ProgParameters.get('ListTable_answer');\r\n            this.search();\r\n        });\r\n        obj.present();\r\n    }\r\n\r\n    //手勢\r\n    swipeEvent(event) {\r\n        switch (event.direction) {\r\n            case 1: //NONE\r\n                break;\r\n            case 2: //LEFT\r\n\r\n                break;\r\n            case 4: //RIGHT\r\n                this.reset();\r\n                this.navCtrl.pop();\r\n                break;\r\n            case 8: //UP\r\n                break;\r\n            case 16://DOWN\r\n                break;\r\n        };\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/_13_WAS/3_Store/Store.ts"],"sourceRoot":""}