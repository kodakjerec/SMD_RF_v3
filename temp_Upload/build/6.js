webpackJsonp([6],{665:function(l,n,u){"use strict";function t(l){return o._23(0,[o._11(null,0)],null,null)}function i(l){return o._23(2,[(l()(),o.Z(0,0,null,null,1,"ion-icon",[["class","fab-close-icon"],["name","close"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o.Y(1,147456,null,0,x.a,[Y.a,o.j,o.z],{name:[0,"name"]},null),(l()(),o.Z(2,0,null,null,1,"span",[["class","button-inner"]],null,null,null,null,null)),o._11(null,0),(l()(),o.Z(4,0,null,null,0,"div",[["class","button-effect"]],null,null,null,null,null))],function(l,n){l(n,1,0,"close")},function(l,n){l(n,0,0,o._12(n,1)._hidden)})}function e(l){return o._23(0,[(l()(),o.Z(0,0,null,null,47,"ion-col",[["class","col"],["col-4",""]],null,null,null,null,null)),o.Y(1,16384,null,0,w.a,[],null,null),(l()(),o._21(-1,null,["\n                "])),(l()(),o.Z(3,0,null,null,43,"ion-card",[],null,null,null,null,null)),o.Y(4,16384,null,0,k.a,[Y.a,o.j,o.z],null,null),(l()(),o._21(-1,null,["\n                    "])),(l()(),o.Z(6,0,null,null,4,"ion-card-header",[["style","padding:0px 0px 0px 0px;"]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.showPic(l.context.$implicit)&&t}return t},null,null)),o.Y(7,16384,null,0,y.a,[Y.a,o.j,o.z],null,null),(l()(),o._21(-1,null,["\n                        "])),(l()(),o.Z(9,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),o._21(-1,null,["\n                    "])),(l()(),o._21(-1,null,["\n                    "])),(l()(),o.Z(12,0,null,null,33,"div",[],null,null,null,null,null)),(l()(),o._21(-1,null,["\n                        "])),(l()(),o.Z(14,0,null,null,9,"ion-fab",[["right",""],["top",""]],null,null,null,t,j)),o.Y(15,1228800,null,2,P.a,[z.a],null,null),o._19(335544320,3,{_mainButton:0}),o._19(603979776,4,{_fabLists:1}),(l()(),o._21(-1,0,["\n                            "])),(l()(),o.Z(19,0,null,0,3,"button",[["ion-fab",""],["mini",""]],[[8,"hidden",0]],[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.showPic(l.context.$implicit)&&t}return t},i,N)),o.Y(20,49152,[[3,4]],0,F.a,[Y.a,o.j,o.z],null,null),(l()(),o.Z(21,0,null,0,1,"ion-icon",[["name","checkmark"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o.Y(22,147456,null,0,x.a,[Y.a,o.j,o.z],{name:[0,"name"]},null),(l()(),o._21(-1,0,["\n                        "])),(l()(),o._21(-1,null,["\n                        "])),(l()(),o.Z(25,0,null,null,19,"div",[],[[8,"hidden",0]],[["window","resize"]],function(l,n,u){var t=!0;if("window:resize"===n){t=!1!==l.component.onResize()&&t}return t},null,null)),(l()(),o._21(-1,null,["\n                            "])),(l()(),o.Z(27,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),o._21(28,null,["",""])),(l()(),o.Z(29,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),o._21(-1,null,["\n                            "])),(l()(),o.Z(31,0,null,null,1,"label",[["style","white-space: pre;color:white"]],null,null,null,null,null)),(l()(),o._21(32,null,["",""])),(l()(),o._21(-1,null,["\n\n                            "])),(l()(),o.Z(34,0,null,null,9,"ion-fab",[["bottom",""],["right",""]],null,null,null,t,j)),o.Y(35,1228800,null,2,P.a,[z.a],null,null),o._19(335544320,5,{_mainButton:0}),o._19(603979776,6,{_fabLists:1}),(l()(),o._21(-1,0,["\n                                "])),(l()(),o.Z(39,0,null,0,3,"button",[["ion-fab",""],["mini",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.downloadPic(l.context.$implicit)&&t}return t},i,N)),o.Y(40,49152,[[5,4]],0,F.a,[Y.a,o.j,o.z],null,null),(l()(),o.Z(41,0,null,0,1,"ion-icon",[["name","download"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o.Y(42,147456,null,0,x.a,[Y.a,o.j,o.z],{name:[0,"name"]},null),(l()(),o._21(-1,0,["\n                            "])),(l()(),o._21(-1,null,["\n                        "])),(l()(),o._21(-1,null,["\n                    "])),(l()(),o._21(-1,null,["\n                "])),(l()(),o._21(-1,null,["\n            "]))],function(l,n){l(n,22,0,"checkmark");l(n,42,0,"download")},function(l,n){var u=n.component;l(n,9,0,n.context.$implicit.ThumbnailImage);l(n,19,0,!n.context.$implicit.check);l(n,21,0,o._12(n,22)._hidden);l(n,25,0,u.data.devWidth<480);l(n,28,0,n.context.$implicit.FileName);l(n,32,0,n.context.$implicit.showDescription);l(n,41,0,o._12(n,42)._hidden)})}function a(l){return o._23(0,[o._19(402653184,1,{scan_Entry:0}),(l()(),o.Z(1,0,null,null,23,"ion-header",[],null,null,null,null,null)),o.Y(2,16384,null,0,L.a,[Y.a,o.j,o.z,[2,T.a]],null,null),(l()(),o._21(-1,null,["\n    "])),(l()(),o.Z(4,0,null,null,19,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,O.b,O.a)),o.Y(5,49152,null,0,C.a,[D.a,[2,T.a],[2,E.a],Y.a,o.j,o.z],null,null),(l()(),o._21(-1,3,["\n        "])),(l()(),o.Z(7,0,null,3,5,"ion-title",[],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.help()&&t}return t},W.b,W.a)),o.Y(8,49152,null,0,$.a,[Y.a,o.j,o.z,[2,I.a],[2,C.a]],null,null),(l()(),o._21(-1,0,["不良品相簿管理"])),(l()(),o.Z(10,0,null,0,2,"button",[["ion-button",""],["outline",""],["small",""]],null,null,null,S.b,S.a)),o.Y(11,1097728,null,0,B.a,[[8,""],Y.a,o.j,o.z],{small:[0,"small"],outline:[1,"outline"]},null),(l()(),o._21(-1,0,["HELP"])),(l()(),o._21(-1,3,["\n        "])),(l()(),o.Z(14,0,null,2,8,"ion-buttons",[["end",""]],null,null,null,null,null)),o.Y(15,16384,null,1,V.a,[Y.a,o.j,o.z,[2,I.a],[2,C.a]],null,null),o._19(603979776,2,{_buttons:1}),(l()(),o._21(-1,null,["\n            "])),(l()(),o.Z(18,0,null,null,3,"button",[["ion-fab",""],["mini",""]],null,[[null,"click"]],function(l,n,u){var t=!0,i=l.component;if("click"===n){t=!1!==i.deletePic(i.item)&&t}return t},i,N)),o.Y(19,49152,null,0,F.a,[Y.a,o.j,o.z],null,null),(l()(),o.Z(20,0,null,0,1,"ion-icon",[["name","trash"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o.Y(21,147456,null,0,x.a,[Y.a,o.j,o.z],{name:[0,"name"]},null),(l()(),o._21(-1,null,["\n        "])),(l()(),o._21(-1,3,["\n    "])),(l()(),o._21(-1,null,["\n"])),(l()(),o._21(-1,null,["\n"])),(l()(),o.Z(26,0,null,null,13,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[[null,"swipe"]],function(l,n,u){var t=!0;if("swipe"===n){t=!1!==l.component.swipeEvent(u)&&t}return t},A.b,A.a)),o.Y(27,4374528,null,0,R.a,[Y.a,z.a,X.a,o.j,o.z,D.a,J.a,o.u,[2,T.a],[2,E.a]],null,null),(l()(),o._21(-1,1,["\n    "])),(l()(),o.Z(29,0,null,1,9,"ion-grid",[["class","grid"]],null,null,null,null,null)),o.Y(30,16384,null,0,M.a,[],null,null),(l()(),o._21(-1,null,["\n        "])),(l()(),o.Z(32,0,null,null,5,"ion-row",[["class","row"]],null,null,null,null,null)),o.Y(33,16384,null,0,H.a,[],null,null),(l()(),o._21(-1,null,["\n            "])),(l()(),o.U(16777216,null,null,1,null,e)),o.Y(36,802816,null,0,c.i,[o.I,o.F,o.p],{ngForOf:[0,"ngForOf"]},null),(l()(),o._21(-1,null,["\n        "])),(l()(),o._21(-1,null,["\n    "])),(l()(),o._21(-1,1,["\n"])),(l()(),o._21(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,11,0,"","");l(n,21,0,"trash");l(n,36,0,u.Lists)},function(l,n){l(n,4,0,o._12(n,5)._hidden,o._12(n,5)._sbPadding);l(n,20,0,o._12(n,21)._hidden);l(n,26,0,o._12(n,27).statusbarPadding,o._12(n,27)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var o=u(1),c=(u(0),u(16)),r=(u(36),u(65)),s=function(){function l(l,n,u,t){this.navCtrl=l,this.plt=n,this._http_services=u,this.alertCtrl=t,this.data={choice:"DAS",ScanBarcode:"",JOBID:"",devWidth:0},this.Lists=[],this.data.devWidth=n.width(),console.log("Dev Width"+this.data.devWidth)}return l.prototype.ngOnInit=function(){this.searchPic()},l.prototype.searchPic=function(){var l=this;this.Lists=[],this._http_services.POST("","Picture","search",[{}]).then(function(n){for(var u in n){var t=n[u],i=t.Description;l.Lists.push({FileName:t.FileName,Description:i,showDescription:i.replace(/\<br>/g,"\n"),ThumbnailImage:"data:image/png;base64,"+t.ThumbnailImage,CreateTime:t.CreateTime,check:!1})}console.log(l.Lists)})},l.prototype.showPic=function(l){l.check=!l.check},l.prototype.deletePic=function(){var l=this,n="",u=[];this.Lists.forEach(function(l){l.check&&(n+=l.FileName+"<br>",u.push(l.FileName))});this.alertCtrl.create({title:"確定要永久刪除勾選的圖片？",message:n,buttons:[{text:"取消",handler:function(){}},{text:"確定",handler:function(){l._http_services.POST("","Picture","delete",[{Name:"@FileName",Value:u}]).then(function(){l.searchPic()})}}]}).present()},l.prototype.downloadPic=function(l){this._http_services.POST("","Picture","download",[{Name:"@FileName",Value:l.FileName}]).then(function(){})},l.prototype.onResize=function(){this.data.devWidth=this.plt.width()},l.prototype.help=function(){this.alertCtrl.create({title:"使用說明",subTitle:'1. 手機介面瀏覽時，下載功能無法使用<br>2. 按下"下載圖案"：瀏覽器會跳出下載視窗<br>3. 按下"圖片"：勾選該張圖片，勾選的圖片右上角會有V圖案<br>4. 批次刪除：勾選多張圖片後，按下標題列右方的垃圾桶',buttons:["關閉"]}).present()},l.prototype.myfocus=function(){this.scan_Entry.setFocus()},l.prototype.selectAll=function(l){l._native.nativeElement.select()},l.prototype.swipeEvent=function(l){switch(l.direction){case 1:case 2:break;case 4:this.navCtrl.pop()}},l}(),_=function(){return function(){}}(),h=u(355),d=u(356),p=u(357),m=u(358),f=u(359),b=u(360),v=u(361),g=u(362),Z=u(363),w=u(59),k=u(181),Y=u(3),y=u(185),P=u(187),z=u(5),j=o.X({encapsulation:2,styles:[],data:{}}),x=u(39),F=u(93),N=o.X({encapsulation:2,styles:[],data:{}}),L=u(55),T=u(7),O=u(68),C=u(33),D=u(8),E=u(19),W=u(69),$=u(43),I=u(34),S=u(30),B=u(17),V=u(61),A=u(56),R=u(20),X=u(9),J=u(31),M=u(60),H=u(45),U=u(58),q=o.X({encapsulation:2,styles:[],data:{}}),G=o.V("ng-component",s,function(l){return o._23(0,[(l()(),o.Z(0,0,null,null,1,"ng-component",[],null,null,null,a,q)),o.Y(1,114688,null,0,s,[E.a,z.a,r.a,U.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),K=u(23),Q=u(180),ll=u(66);u.d(n,"AppModuleNgFactory",function(){return nl});var nl=o.W(_,[],function(l){return o._8([o._9(512,o.i,o.S,[[8,[h.a,d.a,p.a,m.a,f.a,b.a,v.a,g.a,Z.a,G]],[3,o.i],o.s]),o._9(4608,c.l,c.k,[o.r,[2,c.t]]),o._9(4608,K.k,K.k,[]),o._9(4608,K.c,K.c,[]),o._9(512,c.b,c.b,[]),o._9(512,K.j,K.j,[]),o._9(512,K.d,K.d,[]),o._9(512,K.i,K.i,[]),o._9(512,Q.a,Q.a,[]),o._9(512,Q.b,Q.b,[]),o._9(512,_,_,[]),o._9(256,ll.a,s,[])])})}});